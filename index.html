<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" href="/favicon.ico" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <title>Sogni 360 | AI-Powered 360° Orbital Video Generator</title>
    <meta name="description" content="The ultimate tool for storytellers. Create stunning 360° orbital videos with cutting-edge AI—simple and intuitive with powerful options for pros. Cinematic travel videos for social media, action sports, vehicles, and more. Powered by Qwen Image Edit and Multiple Angles LoRA." />
    <meta name="keywords" content="AI orbital video, 360 degree video, cinematic travel video, social media video, action sports video, vehicle video, AI video generator, storytelling, multi-angle video, AI video transition, Sogni AI, Qwen Image Edit, Multiple Angles LoRA, Instagram video, TikTok video, YouTube video" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />

    <!-- Theme colors -->
    <meta name="theme-color" content="#000000" />
    <meta name="msapplication-TileColor" content="#000000" />
    <meta name="msapplication-TileImage" content="/mstile-144x144.png" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <!-- PWA Meta Tags -->
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-title" content="Sogni 360" />
    <meta name="application-name" content="Sogni 360" />
    <link rel="manifest" href="/manifest.json" />

    <!-- Additional meta tags -->
    <meta name="format-detection" content="telephone=no" />
    <meta name="apple-touch-fullscreen" content="yes" />

    <style>
      /* Critical CSS for fullscreen immersive experience */
      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }

      html, body {
        width: 100%;
        height: 100%;
        overflow: hidden;
        background: #000;
      }

      #root {
        width: 100%;
        height: 100%;
      }
    </style>

    <script>
      // Prevent pinch zoom gesture
      document.addEventListener('touchmove', function(event) {
        if (event.touches.length > 1) {
          event.preventDefault();
        }
      }, { passive: false });

      // Prevent double-tap to zoom
      let lastTouchEnd = 0;
      document.addEventListener('touchend', function(event) {
        const now = Date.now();
        if (now - lastTouchEnd <= 300) {
          event.preventDefault();
        }
        lastTouchEnd = now;
      }, { passive: false });

      // Prevent pull-to-refresh behavior
      let touchStartY = 0;
      document.addEventListener('touchstart', function(event) {
        touchStartY = event.touches[0].clientY;
      }, { passive: true });

      document.addEventListener('touchmove', function(event) {
        const touchY = event.touches[0].clientY;
        const touchDeltaY = touchY - touchStartY;
        const isAtTop = window.scrollY === 0;
        const isPullingDown = touchDeltaY > 0;

        if (isAtTop && isPullingDown) {
          event.preventDefault();
        }
      }, { passive: false });
    </script>

    <!-- Open Graph / Facebook -->
    <meta property="og:title" content="Sogni 360 | AI-Powered 360° Orbital Video Generator" />
    <meta property="og:description" content="The ultimate tool for storytellers. Create cinematic 360° orbital videos for social media—simple and intuitive with powerful options for pros. Powered by Qwen Image Edit and Multiple Angles LoRA." />
    <meta property="og:url" content="https://360.sogni.ai/" />
    <meta property="og:type" content="website" />
    <meta property="og:site_name" content="Sogni AI" />
    <meta property="og:image" content="https://360.sogni.ai/og-image.png" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="608" />
    <meta property="og:image:alt" content="Sogni 360 - Create stunning 360° orbital videos with AI" />
    <meta property="og:locale" content="en_US" />

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@sogni_ai" />
    <meta name="twitter:creator" content="@sogni_ai" />
    <meta property="twitter:domain" content="360.sogni.ai" />
    <meta property="twitter:url" content="https://360.sogni.ai/" />
    <meta name="twitter:title" content="Sogni 360 | AI-Powered 360° Orbital Video Generator" />
    <meta name="twitter:description" content="The ultimate tool for storytellers. Create cinematic 360° orbital videos for social media—simple and intuitive with powerful options for pros. Free to try." />
    <meta name="twitter:image" content="https://360.sogni.ai/og-image.png" />
    <meta name="twitter:image:alt" content="Sogni 360 - Create stunning 360° orbital videos with AI" />

    <!-- Additional SEO -->
    <meta name="author" content="Sogni AI" />
    <meta name="publisher" content="Sogni AI" />
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1" />
    <meta name="googlebot" content="index, follow" />
    <link rel="canonical" href="https://360.sogni.ai/" />

    <!-- Structured Data (JSON-LD) -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "Sogni 360",
      "alternateName": "Sogni 360 Orbital Video Generator",
      "description": "The ultimate tool for storytellers. Create stunning 360° orbital videos with cutting-edge AI—simple and intuitive with powerful options for pros. Cinematic travel videos for social media, action sports, vehicles, portraits, and more. Powered by Qwen Image Edit 2511 and Multiple Angles LoRA.",
      "url": "https://360.sogni.ai/",
      "applicationCategory": "MultimediaApplication",
      "operatingSystem": "Web Browser",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD",
        "description": "Free demo available"
      },
      "creator": {
        "@type": "Organization",
        "name": "Sogni AI",
        "url": "https://sogni.ai",
        "sameAs": [
          "https://twitter.com/sogni_ai",
          "https://discord.gg/sogni"
        ]
      },
      "featureList": [
        "Cutting-edge AI: Qwen Image Edit 2511 + Multiple Angles LoRA",
        "96 camera angle combinations (8 azimuths × 4 elevations × 3 distances)",
        "Smooth AI video transitions between angles",
        "Action sports, vehicles, portraits, landscapes, interiors",
        "Multiple camera angle presets",
        "Export seamless orbital video loops"
      ],
      "screenshot": "https://360.sogni.ai/og-image.png"
    }
    </script>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/index.tsx"></script>
    <script>
      // Service Worker Registration
      if ('serviceWorker' in navigator) {
        const isLocalDev = location.hostname === 'localhost' ||
                           location.hostname === '127.0.0.1' ||
                           location.hostname.includes('local');

        if (!isLocalDev) {
          window.addEventListener('load', () => {
            navigator.serviceWorker.register('/sw.js')
              .then((registration) => {
                console.log('Service Worker registered:', registration.scope);

                const hasCheckedUpdates = sessionStorage.getItem('sw-update-checked');
                if (!hasCheckedUpdates) {
                  sessionStorage.setItem('sw-update-checked', 'true');

                  registration.addEventListener('updatefound', () => {
                    const newWorker = registration.installing;
                    if (newWorker) {
                      newWorker.addEventListener('statechange', () => {
                        if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
                          console.log('New service worker available, reloading...');
                          setTimeout(() => {
                            window.location.reload();
                          }, 1000);
                        }
                      });
                    }
                  });

                  registration.update();
                }
              })
              .catch((error) => {
                console.log('Service Worker registration failed:', error);
              });
          });
        } else {
          console.log('Service Worker disabled in local development');
          navigator.serviceWorker.getRegistrations().then((registrations) => {
            registrations.forEach((registration) => {
              registration.unregister();
            });
          });
        }
      }
    </script>
  </body>
</html>
